{% extends 'base.html' %}

{% block title %}Contact Us - Sauti ya Wananchi{% endblock %}

{% load static %}

{% block content %}
<!-- Hero Section with Background Image -->
<section class="relative text-white overflow-hidden">
    <!-- Background Image -->
    <div class="absolute inset-0 z-0">
        <img src="{% static 'images/contact_background.jpeg' %}" alt="Contact Sauti ya Wananchi" class="w-full h-full object-cover">
        <!-- Dark overlay for text readability -->
        <div class="absolute inset-0 bg-black bg-opacity-60"></div>
    </div>

    <!-- Floating Elements -->
    <div class="absolute top-10 left-10 w-32 h-32 bg-blue-400 rounded-full opacity-20 blur-3xl z-0"></div>
    <div class="absolute bottom-10 right-10 w-40 h-40 bg-indigo-400 rounded-full opacity-20 blur-3xl z-0"></div>

    <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-28 text-center">
        <h1 class="text-4xl md:text-6xl font-extrabold mb-6 leading-tight">Contact Us</h1>
        <p class="text-xl md:text-2xl text-blue-50 max-w-2xl mx-auto leading-relaxed">
            Have questions or feedback? We'd love to hear from you.
        </p>
    </div>
</section>

<section class="py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
            <!-- Contact Info -->
            <div class="lg:col-span-1 space-y-6">
                <h2 class="text-3xl font-bold text-gray-900 mb-8">Get in Touch</h2>

                <div class="space-y-4">
                    <!-- Email -->
                    <div class="group bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all">
                        <div class="flex items-start">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                </svg>
                            </div>
                            <div class="ml-4">
                                <h3 class="font-bold text-gray-900 mb-1">Email</h3>
                                <a href="mailto:info@sautiyawananchi.org" class="text-blue-600 hover:text-blue-700 transition">info@sautiyawananchi.org</a>
                            </div>
                        </div>
                    </div>

                    <!-- Phone -->
                    <div class="group bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all">
                        <div class="flex items-start">
                            <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                </svg>
                            </div>
                            <div class="ml-4">
                                <h3 class="font-bold text-gray-900 mb-1">Phone</h3>
                                <a href="tel:+254700000000" class="text-blue-600 hover:text-blue-700 transition">+254 700 000 000</a>
                            </div>
                        </div>
                    </div>

                    <!-- Location -->
                    <div class="group bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all">
                        <div class="flex items-start">
                            <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                </svg>
                            </div>
                            <div class="ml-4">
                                <h3 class="font-bold text-gray-900 mb-1">Location</h3>
                                <p class="text-gray-600">Nairobi, Kenya</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Social Media -->
                <div class="bg-gray-50 rounded-xl p-6 mt-8">
                    <h3 class="font-bold text-gray-900 mb-4">Follow Us</h3>
                    <div class="flex space-x-3">
                        <a href="#" class="w-12 h-12 bg-white rounded-lg flex items-center justify-center hover:bg-blue-50 hover:scale-110 transition-all shadow-sm">
                            <svg class="w-5 h-5 text-gray-700" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                            </svg>
                        </a>
                        <a href="#" class="w-12 h-12 bg-white rounded-lg flex items-center justify-center hover:bg-blue-50 hover:scale-110 transition-all shadow-sm">
                            <svg class="w-5 h-5 text-gray-700" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/>
                            </svg>
                        </a>
                        <a href="#" class="w-12 h-12 bg-white rounded-lg flex items-center justify-center hover:bg-blue-50 hover:scale-110 transition-all shadow-sm">
                            <svg class="w-5 h-5 text-gray-700" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-xl shadow-md p-8 md:p-10 border border-gray-100">
                    <h2 class="text-3xl font-bold text-gray-900 mb-8">Send us a Message</h2>

                    {% if messages %}
                    {% for message in messages %}
                    <div class="mb-6 p-4 rounded-lg {% if message.tags == 'success' %}bg-blue-50 text-blue-700{% else %}bg-red-50 text-red-700{% endif %}">
                        {{ message }}
                    </div>
                    {% endfor %}
                    {% endif %}

                    <form method="post" class="space-y-6">
                        {% csrf_token %}

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Name -->
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
                                    Your Name <span class="text-red-500">*</span>
                                </label>
                                <input type="text" name="name" id="name" required
                                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                       placeholder="John Doe">
                            </div>

                            <!-- Email -->
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                                    Email Address <span class="text-red-500">*</span>
                                </label>
                                <input type="email" name="email" id="email" required
                                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                       placeholder="john@example.com">
                            </div>
                        </div>

                        <!-- Subject -->
                        <div>
                            <label for="subject" class="block text-sm font-medium text-gray-700 mb-2">
                                Subject
                            </label>
                            <input type="text" name="subject" id="subject"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                   placeholder="How can we help?">
                        </div>

                        <!-- Message -->
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700 mb-2">
                                Message <span class="text-red-500">*</span>
                            </label>
                            <textarea name="message" id="message" rows="5" required
                                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                                      placeholder="Write your message here..."></textarea>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit"
                                class="w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition duration-200">
                            Send Message
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="bg-gray-50 py-16 md:py-24">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Frequently Asked Questions</h2>
            <p class="text-lg text-gray-600">Find answers to common questions about our platform</p>
        </div>

        <div class="space-y-4">
            <!-- FAQ 1 -->
            <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <button class="faq-button w-full px-6 py-5 text-left font-bold text-gray-900 flex justify-between items-center hover:bg-gray-50 transition-colors">
                    <span>Can I submit reports anonymously?</span>
                    <svg class="faq-icon w-6 h-6 text-blue-600 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </button>
                <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                    <div class="px-6 pb-5 pt-2 text-gray-600 leading-relaxed">
                        Yes, you can submit reports without creating an account. Your identity will not be displayed publicly.
                        However, creating an account allows you to track your submissions and earn accountability points.
                    </div>
                </div>
            </div>

            <!-- FAQ 2 -->
            <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <button class="faq-button w-full px-6 py-5 text-left font-bold text-gray-900 flex justify-between items-center hover:bg-gray-50 transition-colors">
                    <span>What happens after I submit a report?</span>
                    <svg class="faq-icon w-6 h-6 text-blue-600 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </button>
                <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                    <div class="px-6 pb-5 pt-2 text-gray-600 leading-relaxed">
                        Your report is processed by our AI system, which categorizes it, extracts key information,
                        and generates a summary. It then appears on the public dashboard where it can be viewed by
                        other citizens and relevant authorities.
                    </div>
                </div>
            </div>

            <!-- FAQ 3 -->
            <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <button class="faq-button w-full px-6 py-5 text-left font-bold text-gray-900 flex justify-between items-center hover:bg-gray-50 transition-colors">
                    <span>Which languages are supported?</span>
                    <svg class="faq-icon w-6 h-6 text-blue-600 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </button>
                <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                    <div class="px-6 pb-5 pt-2 text-gray-600 leading-relaxed">
                        Currently, we support English and Swahili for both text and voice submissions.
                        Our AI can process reports in both languages accurately.
                    </div>
                </div>
            </div>

            <!-- FAQ 4 -->
            <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <button class="faq-button w-full px-6 py-5 text-left font-bold text-gray-900 flex justify-between items-center hover:bg-gray-50 transition-colors">
                    <span>How can I track my submitted reports?</span>
                    <svg class="faq-icon w-6 h-6 text-blue-600 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </button>
                <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                    <div class="px-6 pb-5 pt-2 text-gray-600 leading-relaxed">
                        Create an account and log in to access your citizen dashboard. There you can see all your
                        submitted reports, their processing status, and any updates.
                    </div>
                </div>
            </div>

            <!-- FAQ 5 -->
            <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <button class="faq-button w-full px-6 py-5 text-left font-bold text-gray-900 flex justify-between items-center hover:bg-gray-50 transition-colors">
                    <span>Is my data secure?</span>
                    <svg class="faq-icon w-6 h-6 text-blue-600 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </button>
                <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                    <div class="px-6 pb-5 pt-2 text-gray-600 leading-relaxed">
                        Yes, we take data security seriously. All data is encrypted in transit and at rest. We do not
                        share your personal information with third parties, and you have full control over your data.
                    </div>
                </div>
            </div>

            <!-- FAQ 6 -->
            <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                <button class="faq-button w-full px-6 py-5 text-left font-bold text-gray-900 flex justify-between items-center hover:bg-gray-50 transition-colors">
                    <span>How long does it take to process a report?</span>
                    <svg class="faq-icon w-6 h-6 text-blue-600 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </button>
                <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                    <div class="px-6 pb-5 pt-2 text-gray-600 leading-relaxed">
                        Our AI processes reports almost instantly. Text reports are processed within seconds, while
                        voice recordings may take a minute or two for transcription and analysis. Your report will
                        appear on the dashboard immediately after processing.
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const faqButtons = document.querySelectorAll('.faq-button');

    faqButtons.forEach(button => {
        button.addEventListener('click', function() {
            const faqItem = this.parentElement;
            const content = faqItem.querySelector('.faq-content');
            const icon = this.querySelector('.faq-icon');
            const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

            // Close all other FAQs
            document.querySelectorAll('.faq-content').forEach(otherContent => {
                if (otherContent !== content) {
                    otherContent.style.maxHeight = '0px';
                }
            });

            document.querySelectorAll('.faq-icon').forEach(otherIcon => {
                if (otherIcon !== icon) {
                    otherIcon.style.transform = 'rotate(0deg)';
                }
            });

            // Toggle current FAQ
            if (isOpen) {
                content.style.maxHeight = '0px';
                icon.style.transform = 'rotate(0deg)';
            } else {
                content.style.maxHeight = content.scrollHeight + 'px';
                icon.style.transform = 'rotate(180deg)';
            }
        });
    });
});
</script>
{% endblock %}
